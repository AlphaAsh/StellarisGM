namespace = sgm_planets

country_event = {						# planet event menu
	id = sgm_planets.1
	is_triggered_only = yes
	title = sgm_planet_1_title
	desc = sgm_planet_1_desc

	trigger = {
		exists = from
		exists = root
		from = {
			is_scope_type = planet
		}
	}

	immediate = { }

	option = {
		NAME = increase_multiplier
		change_variable = {
			which = multiplier
			value = 1
		}
		country_event = {
			id = sgm_planets.1
			scopes = {
				from = from
			}
		}
	}

	option = {
		NAME = decrease_multiplier
		allow = {
			check_variable = {
				which = multiplier
				value > 1
			}
		}
		change_variable = {
			which = multiplier
			value = -1
		}
		country_event = {
			id = sgm_planets.1
			scopes = {
				from = from
			}
		}
	}

	option = {
		NAME = create_GM_constructor
		while = {
			count = multiplier
			from = {
				solar_system = {
					create_fleet = {
						effect = {
							set_owner = root
							create_ship = {
								random_existing_design = constructor
							}
							set_location = {
								target = from
								distance = 5
								angle = random
							}
						}
					}
				}
			}
		}
	}

	option = {
		NAME = set_owner_target_country
		allow = {
			exists = event_target:target_country
		}
		from = {
			set_owner = event_target:target_country }
	}

	option = {
		NAME = sgm_grow_pop
		while = {
			count = multiplier
			from = {
				create_pop = {
					species = owner
				}
			}
		}
	}

	option = {
		NAME = exit
	}
}

country_event = {							# add districts menu
	id = sgm_planets.50
	is_triggered_only = yes
	title = sgm_planets_50_title
	desc = sgm_planets_50_desc

	trigger = {
#		exists = from
#		exists = root
		from = {
			is_scope_type = planet
		}
	}

	immediate = {
		log = "sgm_planets.50 firing"
	}

	option = {
		NAME = increase_multiplier
		change_variable = {
			which = multiplier
			value = 1
		}
		country_event = {
			id = sgm_planets.50
			scopes = {
				from = from
			}
		}
	}

	option = {
		NAME = decrease_multiplier
		allow = {
			check_variable = {
				which = multiplier
				value > 1
			}
		}
		change_variable = {
			which = multiplier
			value = -1
		}
		country_event = {
			id = sgm_planets.50
			scopes = {
				from = from
			}
		}
	}

	option = {								# add city districts
		NAME = district_city
		allow = {
			from = {
				OR = {
					uses_district_set = standard
					uses_district_set = hive_world
					uses_district_set = machine_world
				}
			}
		}
		while = {
			count = multiplier
			from = {
				if = { limit = { from.owner = { is_regular_empire = yes } }
					add_district = district_city
				}
				if = { limit = { from.owner = { is_hive_empire = yes } }
					add_district = district_hive 
				}
				if = { limit = { from.owner = { is_machine_empire = yes } }
					add_district = district_nexus 
				}
			}
		}
	}	
	option = {								# add industrial districts
		NAME = district_industrial
		allow = {
			from = {
				uses_district_set = standard
			}
		}
		while = {
			count = multiplier
			from = {
				add_district = district_industrial 
			}
		}
	}

	option = {								# add generator districts
		NAME = district_generator 
		allow = {
			from = {
				OR = {
					uses_district_set = standard
					uses_district_set = hive_world
					uses_district_set = machine_world
				}
			}
		}
		while = {
			count = multiplier
			from = {
				if = {
					limit = {
						uses_district_set = hive_world
						uses_district_set = machine_world
					}
					add_district = district_generator_uncapped
				}
				else = {
					add_district = district_generator  
				}
			}
		}
	}

	option = {								# add mining districts
		NAME = district_mining 
		allow = {
			from = {
				OR = {
					uses_district_set = standard
					uses_district_set = hive_world
					uses_district_set = machine_world
				}
			}
		} 
		while = {
			count = multiplier
			from = {
				if = {
					limit = {
						uses_district_set = hive_world
						uses_district_set = machine_world
					}
					add_district = district_mining_uncapped
				}
				else = {
					add_district = district_mining  
				} 
			}
		}
	}

	option = {								# add farming districts
		NAME = district_farming  
		allow = {
			from = {
				OR = {
					uses_district_set = standard
					uses_district_set = hive_world
				}
			}
		} 
		while = {
			count = multiplier
			from = {
				if = {
					limit = {
						uses_district_set = hive_world
					}
					add_district = district_farming_uncapped
				}
				else = {
					add_district = district_farming  
				}   
			}
		}
	}
	option = {								# add district_arcology_housing 
		NAME = district_arcology_housing   
		allow = {
			from = {
				uses_district_set = city_world
			}
		} 
		while = {
			count = multiplier
			from = {
				add_district = district_arcology_housing  
			}
		}   
	}

	option = {								# add district_arcology_arms_industry  
		NAME = district_arcology_arms_industry    
		allow = {
			from = {
				uses_district_set = city_world
			}
		}
		while = {
			count = multiplier
			from = {
				add_district = district_arcology_arms_industry   
			}   
		}
	}

	option = {								# add district_arcology_civilian_industry   
		NAME = district_arcology_civilian_industry     
		allow = {
			from = {
				uses_district_set = city_world
				owner = {
					OR = {
						is_gestalt = no
						has_valid_civic = civic_machine_servitor
					}
				}
			}
		} 
		while = {
			count = multiplier
			from = {
				add_district = district_arcology_civilian_industry    
			} 
		}  
	}

	option = {								# add district_arcology_leisure   
		NAME = district_arcology_leisure     
		allow = {
			from = {
				uses_district_set = city_world
				owner = {
					is_regular_empire = yes
				}
			}
		} 
		while = {
			count = multiplier
			from = {
				add_district = district_arcology_leisure    
			}
		}  
	}

	option = {								# add district_hab_housing    
		NAME = district_hab_housing     
		allow = {
			from = {
				uses_district_set = habitat
			}
		} 
		while = {
			count = multiplier
			from = {
				add_district = district_hab_housing     
			}
		}   
	}

	option = {								# add district_hab_energy     
		NAME = district_hab_energy      
		allow = {
			from = {
				uses_district_set = habitat
				OR = {
					has_planet_flag = energy_habitat
					owner = { is_gestalt = yes }
				}
			}
		} 
		while = {
			count = multiplier
			from = {
				add_district = district_hab_energy      
			}   
		}
	}
	
	option = {								# add district_hab_industrial     
		NAME = district_hab_industrial      
		allow = {
			from = {
				uses_district_set = habitat
			}
		} 
		while = {
			count = multiplier
			from = {
				add_district = district_hab_industrial      
			}   
		}
	}
	
	option = {								# add district_hab_science     
		NAME = district_hab_science      
		allow = {
			from = {
				uses_district_set = habitat
				has_planet_flag = research_habitat
			}
		} 
		while = {
			count = multiplier
			from = {
				add_district = district_hab_science      
			}
		}   
	}

	option = {								# add district_hab_commercial      
		NAME = district_hab_commercial       
		allow = {
			from = {
				uses_district_set = habitat
				owner = {
					is_gestalt = no
				}
			}
		}
		while = {
			count = multiplier
			from = {
				add_district = district_hab_commercial       
			}
		}   
	}
	
	option = {								# add district_hab_mining      
		NAME = district_hab_mining       
		allow = {
			from = {
				uses_district_set = habitat
				has_planet_flag = mining_habitat
			}
		}
		while = {
			count = multiplier
			from = {
				add_district = district_hab_mining       
			}   
		}
	}

	option = {								# add district_hab_cultural       
		NAME = district_hab_cultural        
		allow = {
			from = {
				uses_district_set = habitat
				owner = {
					OR = {
						is_gestalt = no
						has_valid_civic = civic_machine_servitor
					}
				}
			}
		} 
		while = {
			count = multiplier
			from = {
				add_district = district_hab_cultural       
			}   
		}
	}

	option = {
		NAME = Exit
	}
}

country_event = {								# change planet class menu
	id = sgm_planets.51
	is_triggered_only = yes
	title = sgm_planets_51_title
	desc = sgm_planets_51_desc

	trigger = {
		from = {
			is_scope_type = planet
		}
	}

	immediate = { }

	option = {
		NAME = pc_gaia
		from = {
			change_pc = pc_gaia
			reroll_planet = yes
			reroll_deposits = yes
		}
	}

	option = {
		NAME = pc_city
		from = {
			change_pc = pc_city
			reroll_planet = yes
			reroll_deposits = yes
		}
	}

	option = {
		NAME = pc_relic
		from = {
			change_pc = pc_city
			reroll_planet = yes
			reroll_deposits = yes
		}
	}

	option = {
		NAME = pc_frozen
		from = {
			change_pc = pc_frozen
			reroll_planet = yes
			reroll_deposits = yes
		}
	}

	option = {
		NAME = pc_alpine
		from = {
			change_pc = pc_alpine
			reroll_planet = yes
			reroll_deposits = yes
		}
	}

	option = {
		NAME = pc_tundra
		from = {
			change_pc = pc_tundra
			reroll_planet = yes
			reroll_deposits = yes
		}
	}

	option = {
		NAME = pc_continental
		from = {
			change_pc = pc_continental
			reroll_planet = yes
			reroll_deposits = yes
		}
	}

	option = {
		NAME = pc_ocean
		from = {
			change_pc = pc_ocean
			reroll_planet = yes
			reroll_deposits = yes
		}
	}

	option = {
		NAME = pc_tropical
		from = {
			change_pc = pc_tropical
			reroll_planet = yes
			reroll_deposits = yes
		}
	}

	option = {
		NAME = pc_desert
		from = {
			change_pc = pc_desert
			reroll_planet = yes
			reroll_deposits = yes
		}
	}

	option = {
		NAME = pc_arid
		from = {
			change_pc = pc_arid
			reroll_planet = yes
			reroll_deposits = yes
		}
	}

	option = {
		NAME = pc_savannah
		from = {
			change_pc = pc_savannah
			reroll_planet = yes
			reroll_deposits = yes
		}
	}

	option = {
		NAME = Exit
	}

}
